{"version":3,"sources":["webpack:///./components/form/index.js","webpack:///./components/list/index.js","webpack:///./routes/home/index.js","webpack:///../node_modules/uuid/v4.js","webpack:///../node_modules/uuid/lib/bytesToUuid.js","webpack:///./routes/home/style.css","webpack:///../src/index.js","webpack:///../node_modules/uuid/lib/rng-browser.js"],"names":["Form","className","itemsAdd","input","useRef","useState","value","setValue","useEffect","v","get","join","autocomplete","onSubmit","e","preventDefault","current","focus","type","name","id","ref","onKeyUp","target","List","items","itemsSet","itemsRemove","length","map","item","checked","done","onChange","title","onClick","Home","setItems","class","style","home","uuid","filter","rng","require","bytesToUuid","module","exports","options","buf","offset","i","Array","rnds","random","ii","byteToHex","toString","substr","getHookState","index","currentComponent","currentHook","hooks","push","initialState","reducer","init","hookState","currentIndex","_reducer","invokeOrReturn","nextValue","action","setState","useReducer","callback","args","state","argsChanged","initialValue","useMemo","factory","flushAfterPaintEffects","afterPaintEffects","forEach","component","invokeCleanup","invokeEffect","hook","comp","oldArgs","newArgs","some","arg","f","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","vnode","c","requestAnimationFrame","raf","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","commitQueue","cb","getRandomValues","crypto","bind","msCrypto","window","rnds8","Uint8Array","r","Math"],"mappings":"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","file":"route-home.chunk.067d1.js","sourcesContent":["import { h, Fragment } from 'preact';\r\nimport { useEffect, useRef, useState } from 'preact/hooks';\r\n\r\nconst Form = ({ className = '', itemsAdd }) => {\r\n    const input = useRef(null);\r\n    const [value, setValue] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const params = null;\r\n        const v = [\r\n            ...(params.get('title') ? [params.get('title')] : []),\r\n            ...(params.get('text') ? [params.get('text')] : []),\r\n            ...(params.get('url') ? [params.get('url')] : []),\r\n        ];\r\n\r\n        setValue(v.join(' - '));\r\n    }, []);\r\n\r\n    return (\r\n        <div className={className}>\r\n            <form autocomplete=\"off\"\r\n                onSubmit={e => {\r\n                    e.preventDefault();\r\n                    if (value !== '') {\r\n                        itemsAdd(value);\r\n                        setValue('');\r\n                        input.current.focus();\r\n                    }\r\n                }}\r\n            >\r\n                <input type=\"text\"\r\n                    name=\"title\"\r\n                    id=\"title\"\r\n                    ref={input}\r\n                    value={value}\r\n                    onKeyUp={e => setValue(e.target.value)}\r\n                    autocomplete=\"off\"\r\n                />\r\n                <button type=\"submit\"\r\n                className=\"font-bold rounded rounded-l-none text-white px-4 hover:bg-indigo-700 bg-indigo-800 text-center no-underline block focus:shadow-outline focus:outline-none\">\r\n                    Add\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Form\r\n","import { h } from 'preact';\r\nimport './style.css';\r\n\r\nconst List = ({ items, itemsSet, itemsRemove }) => {\r\n    if (items.length === 0) {\r\n        return (\r\n            <p>\r\n                List is empty\r\n            </p>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ul>\r\n            {items.map(item => (\r\n                <li>\r\n                    <input type=\"checkbox\"\r\n                        checked={item.done}\r\n                        onChange={() => itemsSet(item.id, !item.done)} />\r\n                    <span>\r\n                        {item.title}\r\n                    </span>\r\n                    {item.done ? (\r\n                        <button onClick={() => itemsRemove(item.id)}>\r\n                            delete item\r\n                        </button>\r\n                    ) : (\r\n                            <p />\r\n                        )}\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default List;\r\n","import { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport uuid from 'uuid/v4'\nimport Form from '../../components/form/index.js'\nimport List from '../../components/list/index.js'\nimport style from './style.css';\n\nconst Home = () => {\n\tconst [items, setItems] = useState([]);\n\tconst [mounted, setMounted] = useState(false);\n\n\tconst itemsAdd = title => {\n\t\tsetItems([\n\t\t\t{\n\t\t\t\ttitle,\n\t\t\t\tid: uuid(),\n\t\t\t\tdone: false\n\t\t\t},\n\t\t\t...items\n\t\t])\n\t}\n\tconst itemsRemove = id => {\n\t\tsetItems(\n\t\t\titems.filter(item => id != item.id)\n\t\t)\n\t}\n\tconst itemsSet = (id, done) => {\n\t\tsetItems(\n\t\t\titems.map(item =>\n\t\t\t\t(item.id === id ? { ...item, done } : item))\n\t\t)\n\t}\n\n\treturn (\n\t\t<div class={style.home}>\n\t\t\t<h1>Home</h1>\n\t\t\t<Form itemsAdd={itemsAdd} />\n\t\t\t<List items={items} itemsRemove={itemsRemove} itemsSet={itemsSet} />\n\t\t</div>\n\t)\n}\n\nexport default Home;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home__MseGd\"};","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n/**\n * Keep track of the previous component so that we can set\n * `currentComponent` to `null` and throw when a hook is invoked\n * outside of render\n * @type {import('./internal').Component}\n */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = previousComponent;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {import('./internal').HookState}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} initialState\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\nexport function useErrorBoundary(cb) {\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n"],"sourceRoot":""}